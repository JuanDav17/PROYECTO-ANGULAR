{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.email = '';\n    this.password = '';\n    this.apiUrl = 'http://localhost:3000/usuarios/login'; // tu backend FastAPI\n  }\n\n  onLogin() {\n    const loginData = {\n      email: this.email,\n      password: this.password\n    };\n    this.http.post(this.apiUrl, loginData).subscribe({\n      next: response => {\n        alert('Inicio de sesión exitoso');\n        localStorage.setItem('usuario', JSON.stringify(response.usuario));\n        this.router.navigate(['/productos']); // redirige al CRUD después del login\n      },\n\n      error: err => {\n        alert('Error al iniciar sesión: credenciales incorrectas');\n        console.error(err);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 19,\n      vars: 2,\n      consts: [[1, \"login-container\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\"], [1, \"bi\", \"bi-box-arrow-in-right\"], [1, \"register-link\"], [\"routerLink\", \"/register\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Iniciar sesi\\u00F3n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onLogin();\n          });\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\");\n          i0.ɵɵtext(6, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_7_listener($event) {\n            return ctx.email = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\");\n          i0.ɵɵtext(10, \"Contrase\\u00F1a\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"input\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_11_listener($event) {\n            return ctx.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"button\", 5);\n          i0.ɵɵelement(13, \"i\", 6);\n          i0.ɵɵtext(14, \" Entrar \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"p\", 7);\n          i0.ɵɵtext(16, \" \\u00BFNo tienes cuenta? \");\n          i0.ɵɵelementStart(17, \"a\", 8);\n          i0.ɵɵtext(18, \"Reg\\u00EDstrate\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.password);\n        }\n      },\n      dependencies: [i2.RouterLink, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\".login-container[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 80px auto;\\n  padding: 30px;\\n  border: 1px solid #ddd;\\n  border-radius: 12px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\\n  background-color: #fff;\\n  text-align: center;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  color: #333;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 15px;\\n  text-align: left;\\n}\\n\\nlabel[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  display: block;\\n  margin-bottom: 5px;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 8px;\\n  outline: none;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  background-color: #007bff;\\n  color: white;\\n  border: none;\\n  padding: 10px 20px;\\n  border-radius: 8px;\\n  cursor: pointer;\\n  width: 100%;\\n  font-weight: bold;\\n}\\n\\n.btn[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n\\n.register-link[_ngcontent-%COMP%] {\\n  margin-top: 15px;\\n  font-size: 14px;\\n}\\n\\na[_ngcontent-%COMP%] {\\n  color: #007bff;\\n  text-decoration: none;\\n}\\n\\na[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVDQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0EscUJBQUE7QUFDRjs7QUFFQTtFQUNFLDBCQUFBO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tY29udGFpbmVyIHtcbiAgbWF4LXdpZHRoOiA0MDBweDtcbiAgbWFyZ2luOiA4MHB4IGF1dG87XG4gIHBhZGRpbmc6IDMwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5oMiB7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4uZm9ybS1ncm91cCB7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG5cbmxhYmVsIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbn1cblxuaW5wdXQge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBvdXRsaW5lOiBub25lO1xufVxuXG4uYnRuIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHdpZHRoOiAxMDAlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7XG59XG5cbi5yZWdpc3Rlci1saW5rIHtcbiAgbWFyZ2luLXRvcDogMTVweDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuXG5hIHtcbiAgY29sb3I6ICMwMDdiZmY7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuYTpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["LoginComponent","constructor","http","router","email","password","apiUrl","onLogin","loginData","post","subscribe","next","response","alert","localStorage","setItem","JSON","stringify","usuario","navigate","error","err","console","i0","ɵɵdirectiveInject","i1","HttpClient","i2","Router","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_form_ngSubmit_3_listener","LoginComponent_Template_input_ngModelChange_7_listener","$event","LoginComponent_Template_input_ngModelChange_11_listener","ɵɵelement","ɵɵadvance","ɵɵproperty"],"sources":["/app/src/app/components/login/login.component.ts","/app/src/app/components/login/login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent {\n  email = '';\n  password = '';\n\n  private apiUrl = 'http://localhost:3000/usuarios/login'; // tu backend FastAPI\n\n  constructor(private http: HttpClient, private router: Router) {}\n\n  onLogin() {\n    const loginData = {\n      email: this.email,\n      password: this.password\n    };\n\n    this.http.post<any>(this.apiUrl, loginData).subscribe({\n      next: (response) => {\n        alert('Inicio de sesión exitoso');\n        localStorage.setItem('usuario', JSON.stringify(response.usuario));\n        this.router.navigate(['/productos']); // redirige al CRUD después del login\n      },\n      error: (err) => {\n        alert('Error al iniciar sesión: credenciales incorrectas');\n        console.error(err);\n      }\n    });\n  }\n}","<div class=\"login-container\">\n  <h2>Iniciar sesión</h2>\n\n  <form (ngSubmit)=\"onLogin()\">\n    <div class=\"form-group\">\n      <label>Email</label>\n      <input type=\"email\" [(ngModel)]=\"email\" name=\"email\" required />\n    </div>\n\n    <div class=\"form-group\">\n      <label>Contraseña</label>\n      <input type=\"password\" [(ngModel)]=\"password\" name=\"password\" required />\n    </div>\n\n    <button type=\"submit\" class=\"btn\">\n      <i class=\"bi bi-box-arrow-in-right\"></i> Entrar\n    </button>\n\n    <p class=\"register-link\">\n      ¿No tienes cuenta?\n      <a routerLink=\"/register\">Regístrate</a>\n    </p>\n  </form>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}